//................................................................................................................................
//..................................dddd............... bbb.............................dddd.....................iiii.......dddd..
//..................................dddd............... bbb.............................dddd.....................iiii.......dddd..
//..................................dddd............... bbb.............................dddd................................dddd..
//.mmmmmmmmmmmmmm....aaaaaa....ddddddddd..eeeeee....... bbbbbbbb.bbyy...yyyy.......ddddddddd..aaaaaa..avvv..vvvv.iiii..ddddddddd..
//.mmmmmmmmmmmmmmm..aaaaaaaa..dddddddddd.eeeeeeee...... bbbbbbbbb.byyy..yyyy......dddddddddd.aaaaaaaa.avvv..vvvv.iiii.dddddddddd..
//.mmmmm.mmmmmmmmm.maaa.aaaaaadddd.ddddddeee.eeee...... bbbb.bbbbbbyyy..yyyy..... dddd.ddddddaaa.aaaaaavvv.vvvv..iiiiidddd.ddddd..
//.mmmm..mmmm..mmmm....aaaaaaaddd...dddddeee..eeee..... bbb...bbbbbyyy.yyyy...... ddd...dddd....aaaaaa.vvvvvvvv..iiiiiddd...dddd..
//.mmmm..mmmm..mmmm.aaaaaaaaaaddd...dddddeeeeeeeee..... bbb...bbbb.yyyyyyyy...... ddd...dddd.aaaaaaaaa.vvvvvvvv..iiiiiddd...dddd..
//.mmmm..mmmm..mmmmmaaaaaaaaaaddd...dddddeeeeeeeee..... bbb...bbbb.yyyyyyy....... ddd...dddddaaaaaaaaa.vvvvvvv...iiiiiddd...dddd..
//.mmmm..mmmm..mmmmmaaa.aaaaaaddd...dddddeee........... bbb...bbbb..yyyyyy....... ddd...dddddaaa.aaaaa..vvvvvv...iiiiiddd...dddd..
//.mmmm..mmmm..mmmmmaaa.aaaaaadddd.ddddddeee..eeee..... bbbb.bbbbb..yyyyyy....... dddd.ddddddaaa.aaaaa..vvvvvv...iiiiidddd.ddddd..
//.mmmm..mmmm..mmmmmaaaaaaaaa.dddddddddd.eeeeeeee...... bbbbbbbbb...yyyyy.........dddddddddddaaaaaaaaa..vvvvv....iiii.dddddddddd..
//.mmmm..mmmm..mmmm.aaaaaaaaa..ddddddddd..eeeeee....... bbbbbbbb.....yyyy..........ddddddddd.aaaaaaaaa...vvvv....iiii..ddddddddd..
//...................................................................yyyy.........................................................
//..................................................................yyyy..........................................................
//................................................................byyyyy..........................................................
//................................................................byyyy...........................................................
//................................................................................................................................

document.addEventListener('DOMContentLoaded', function () {
    document.querySelector('button').addEventListener('click', 
    onclick, false)

    window.mynamespace = window.mynamespace || {};
    function onclick () {
        chrome.tabs.query({currentWindow: true, active: true},
            function (tab) {
                chrome.tabs.sendMessage(tab[0].id, mynamespace.generateUuid())
            })
    }
}, false)
